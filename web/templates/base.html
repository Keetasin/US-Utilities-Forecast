<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" 
          integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" 
          integrity="sha512-p6SxG2G1..." crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Website icon -->
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/favicon.png') }}">
    <title>{% block title %}Home{% endblock %}</title>

    <!-- Base CSS -->
    <style>
      /* ----------------- Dark Background + Floating particles ----------------- */
      body {
          margin: 0;
          padding: 0;
          font-family: 'Segoe UI', sans-serif;
          background: #0b0c10;
          color: #fff;
          text-align: center;
          overflow-x: hidden;
      }
      body::before {
          content: '';
          position: fixed;
          top:0; left:0; width:100%; height:100%;
          background: radial-gradient(circle, rgba(0,255,255,0.05) 1px, transparent 1px);
          background-size: 50px 50px;
          z-index: 0;
          animation: moveParticles 30s linear infinite;
      }
      @keyframes moveParticles {
          from { background-position: 0 0; }
          to { background-position: 1000px 1000px; }
      }

      /* ----------------- Navbar Glassmorphism ----------------- */
      .glassmorphism {
        background: rgba(20, 20, 20, 0.6);
        backdrop-filter: blur(10px);
        padding: 15px 20px;
        border-radius: 12px;
        margin: 15px auto;
        max-width: 95%;
        box-shadow: 0 4px 20px rgba(0, 255, 255, 0.3);
        position: relative;
        z-index: 2;
      }
      .navbar-brand {
        font-size: 24px;
        font-weight: bold;
        color: #00e5ff !important;
        text-transform: uppercase;
        letter-spacing: 1px;
      }
      .navbar-nav .nav-item .nav-link {
        font-size: 16px;
        font-weight: 500;
        color: #fff !important;
        margin: 0 10px;
        transition: all 0.3s ease-in-out;
      }
      .navbar-nav .nav-item .nav-link:hover {
        color: #00e5ff !important;
        text-shadow: 0 0 10px #00e5ff;
      }
      .custom-toggler {
        border: none; outline: none; background: none;
      }
      .custom-toggler .navbar-toggler-icon {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3E%3Cpath stroke='rgba%28255, 255, 255, 0.9%29' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3E%3C/svg%3E");
        width: 28px; height: 28px;
      }

      /* ----------------- Flash Messages ----------------- */
      .alert {
          border-radius: 12px;
          box-shadow: 0 0 15px rgba(0,255,255,0.3);
      }
      .alert-success { background: rgba(0,255,0,0.1); color: #0f0; }
      .alert-danger { background: rgba(255,0,0,0.1); color: #f00; }

      /* ----------------- Content Container ----------------- */
      .container {
          position: relative;
          z-index: 1;
          padding-top: 40px;
          padding-bottom: 60px;
      }

      /* ----------------- Neon Titles ----------------- */
      h1, h2, h3 {
          color: #00e5ff;
          text-shadow: 0 0 10px #00e5ff, 0 0 20px #00e5ff;
      }
    </style>
</head>
<body>

  <!-- ----------------- Navbar ----------------- -->
  <nav class="navbar navbar-expand-lg navbar-light glassmorphism">
    <a class="navbar-brand" href="/">
        <i class="fa fa-chart-line"></i> Happy Stock
    </a>

    <button class="navbar-toggler custom-toggler" type="button" data-toggle="collapse" data-target="#navbar">
        <span class="navbar-toggler-icon"></span>
    </button>
    
    <div class="collapse navbar-collapse" id="navbar">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
            <li class="nav-item"><a class="nav-link" href="/heatmap">Heatmap</a></li>
        </ul>
    </div>
  </nav>

  <!-- ----------------- Flash Messages ----------------- -->
  {% with messages = get_flashed_messages(with_categories=true) %} 
    {% if messages %}
      {% for category, message in messages %}
        <div class="alert alert-{{ 'danger' if category=='error' else 'success' }} alert-dismissible fade show" role="alert">
          {{ message }}
          <button type="button" class="close" data-dismiss="alert"><span>&times;</span></button>
        </div>
      {% endfor %}
    {% endif %} 
  {% endwith %}

  <!-- ----------------- Content ----------------- -->
  <div class="container">
      {% block content %} {% endblock %}
  </div>

  <!-- ----------------- Scripts ----------------- -->
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" crossorigin="anonymous"></script>

</body>
</html>
